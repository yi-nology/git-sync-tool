import{c as x,u as S}from"./system-IA1MElDq.js";import{b as h}from"./element-plus-BS7CnCwq.js";import{v as k,k as C,D as B,G as u,E as l,F as a,r,ac as o,y as v,P as E,z as N,S as _,ad as P}from"./vendor-BwpG93hR.js";import{_ as U}from"./index-Bev_lS0N.js";import"./request-BBaptrTN.js";const A={class:"settings-page"},D=k({__name:"SettingsPage",setup(G){const d=r(!1),m=r(!1),t=r({debug_mode:!1,author_name:"",author_email:""});C(async()=>{d.value=!0;try{const f=await x();t.value=f}finally{d.value=!1}});async function c(){m.value=!0;try{await S(t.value),h.success("配置保存成功")}finally{m.value=!1}}return(f,e)=>{const b=o("el-switch"),s=o("el-form-item"),p=o("el-form"),i=o("el-card"),g=o("el-input"),y=o("el-button"),V=o("el-text"),w=P("loading");return v(),B("div",A,[e[7]||(e[7]=u("h2",null,"系统设置",-1)),l(i,{header:"系统配置",class:"mb-4"},{default:a(()=>[E((v(),N(p,{model:t.value,"label-width":"140px"},{default:a(()=>[l(s,{label:"调试模式"},{default:a(()=>[l(b,{modelValue:t.value.debug_mode,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.debug_mode=n)},null,8,["modelValue"]),e[3]||(e[3]=u("div",{class:"form-tip"},"开启后，系统将在后台日志中输出详细的 Git 命令执行信息。",-1))]),_:1})]),_:1},8,["model"])),[[w,d.value]])]),_:1}),l(i,{header:"全局 Git 配置",class:"mb-4"},{default:a(()=>[l(p,{model:t.value,"label-width":"140px"},{default:a(()=>[l(s,{label:"Author Name"},{default:a(()=>[l(g,{modelValue:t.value.author_name,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.author_name=n)},null,8,["modelValue"])]),_:1}),l(s,{label:"Author Email"},{default:a(()=>[l(g,{modelValue:t.value.author_email,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.author_email=n),type:"email"},null,8,["modelValue"])]),_:1}),l(s,null,{default:a(()=>[l(y,{type:"primary",onClick:c,loading:m.value},{default:a(()=>[...e[4]||(e[4]=[_("保存配置",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),l(V,{type:"info",size:"small"},{default:a(()=>[...e[5]||(e[5]=[_("设置全局默认的提交作者信息 (git config --global)。如果在仓库中未单独设置，将使用此配置。",-1)])]),_:1})]),_:1}),l(i,{header:"API 文档"},{default:a(()=>[...e[6]||(e[6]=[u("p",null,[_("查看在线 Swagger 文档："),u("a",{href:"/swagger.html",target:"_blank"},"Swagger UI")],-1)])]),_:1})])}}}),j=U(D,[["__scopeId","data-v-ea0c81bb"]]);export{j as default};
