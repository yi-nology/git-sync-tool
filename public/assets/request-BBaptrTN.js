import{aC as a}from"./vendor-BwpG93hR.js";import{b as s}from"./element-plus-BS7CnCwq.js";const o=a.create({baseURL:"/api/v1",timeout:3e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>e,e=>Promise.reject(e));o.interceptors.response.use(e=>{const r=e.headers["content-type"];if(r&&!r.includes("application/json"))return e;const t=e.data;return t.code!==0?(s.error(t.msg||"请求失败"),Promise.reject(new Error(t.msg||"请求失败"))):t.data},e=>{const r=e.response?.data?.message||e.message||"网络错误";return s.error(r),Promise.reject(e)});export{o as s};
